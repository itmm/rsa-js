<doctype html>
<html>
	<head>
		<title>RSA-js</title>
		<meta charset="utf-8">
		<link 
			rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
			integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
			crossorigin="anonymous"
		>
		<link
			rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
			integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
			crossorigin="anonymous"
		>
		<link rel="stylesheet" href="rsa.css">
	</head>
	<body>
		<div class="container">
			<h1>RSA-js</h1>
			<p>Dieses Modul demonstriert die Ver- oder Entschlüsselung mit dem
				RSA Verfahren.
			</p>
			<h2>Basis</h2>
			<p>Grundsätzlich werden bei diesem Verfahren keine Texte,
				sondern nur Zahlen ver- und entschlüsselt, die zwischen 0 und
				<i>e</i> liegen.
			</p><p>Der Wert von <i>e</i> muss größer als 1 sein und ist
				öffentlich bekannt (also nicht Teil von irgendwelchen
				Schlüsseln).
			</p>
			<form class="form-horizontal">
				<div class="form-group">
					<label class="col-sm-2 control-label" for="base">Basis <i>e</i></label>
					<div class="col-sm-10"><input class="form-control" id="base" value="23"></div>
				</div>
			</form>
			<h2>Primfaktoren</h2>
			<p>Die Sicherheit von RSA basiert darauf, dass es zwar einfach ist,
				das Produkt <i>N</i> zweier Primzahlen <i>p</i> und <i>q</i> zu
				berechnen.
				Es ist jedoch sehr schwer, nur aus dem Produkt <i>N</i> die
				Primzahlen zu bestimmen, die das Produkt ergeben.
				Diesen Vorgang nennt man auch das Faktorisieren von <i>N</i>.
			</p><p>Der geheime Schlüssel von RSA besteht aus diesen zwei
				Primzahlen <i>p</i> und <i>q</i>.
			</p>
			<form class="form-horizontal">
				<div class="form-group">
					<label class="col-sm-2 control-label" for="prime-1">Geheimer
						Schlüssel<br>Erste
						Primzah <i>p</i></math></label>
					<div class="col-sm-10"><input class="form-control" id="prime-1" value="11"></div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label" for="prime-2">Geheimer
						Schlüssel<br>Zweite
						Primzahl <i>q</i></label>
					<div class="col-sm-10"><input class="form-control" id="prime-2" value="13"></div>
				</div>
			</form>
			<p>Damit der Algorithmus funktioniert, müssen beide Primzahlen
				verschieden sein.
			</p><p>Zusätzlich müssen die Primzahlen möglichst groß gewählt
				werden, um die Faktorisierung möglichst schwierig zu gestalten.
				Aktuell werden für eine sichere Kommunikation mehrere tausend
				Stellen verwendet.
			</p><p>Der öffentliche Schlüssel besteht aus dem Produkt <i>N</i>
				der beiden Primzahlen.
			</p>
			<form class="form-horizontal">
				<div class="form-group">
					<label class="col-sm-2 control-label"
						for="public-key">Öffentlicher Schlüssel <i>N</i> = <i>p</i> &times; <i>q</i></label>
					<div class="col-sm-10"><p class="form-control-static" id="public-key"></div>
				</div>
			</form>
			<h2>Ver- und Entschlüsseln</h2>
			<p>RSA benutzt als zentrales Element die Eulersche &phi;-Funktion
				von <i>N</i>. Diese ist definiert als
			</p>
			<form class="form-horizontal">
				<div class="form-group">
					<label class="col-sm-2 control-label"
			for="phi">&phi;(<i>N</i>)<br>= (<i>p</i> &minus; 1) &times;
			(<i>q</i> &minus; 1)</label>
					<div class="col-sm-10"><p class="form-control-static" id="phi"></p></div>
				</div>
			</form>
			<p>Wichtig ist für RSA, dass der Wert der &phi;-Funktion mit
				<i>e</i> teilerfremd ist.
			</p>
			<form class="form-horizontal">
				<div class="form-group">
					<label class="col-sm-2 control-label" for="gcd">ggT(<i>e</i>, &phi;(<i>N</i>))</label>
					<div class="col-sm-10"><p class="form-control-static" id="gcd"></p></div>
				</div>
			</form>
			<p>In diesem Fall können wir mit dem erweiterten Euklidischen
			Algorithmus ein <i>r</i> finden mit <i>r</i> &times; &phi;(<i>N</i>)
			= 1 modulo <i>e</i>.
			</p>
			<form class="form-horizontal">
				<div class="form-group">
					<label class="col-sm-2 control-label"
			for="private-key"><i>r</i></label>
					<div class="col-sm-10"><p class="form-control-static" id="private-key"></div>
				</div>
			</form>
			<p>Mit diesem <i>r</i> gilt für jede Nachricht <i>m</i>, dass
				(<i>m</i><sup><i>r</i></sup>)<sup><i>N</i></sup> =
				<i>m</i>, wenn alle Operationen modulo <i>e</i> durchgeführt
				werden.
			</p><p>Umgekehrt gilt ebenfalls, dass
				(<i>m</i><sup><i>N</i></sup>)<sup><i>r</i></sup> =
				<i>m</i>, wenn alle Operationen modulo <i>e</i> durchgeführt
				werden.
			</p>
			<p>Eine Nachricht <i>m</i> wird durch die Operation
				<i>n</i> = <i>m</i><sup><i>r</i></sup> mit dem geheimen
				Schlüssel verschlüsselt.
			</p><p>Eine so verschlüsselte Nachricht <i>n</i> durch die Operation
				<i>n</i><sup><i>N</i> wieder entschlüsselt werden.
			</p><p>Alternativ kann eine Nachricht <i>m</i> durch die Operation
				<i>n</i> = <i>m</i><sup><i>N</i></sup> mit dem öffentlichen
				Schlüssel verschlüsselt werden.
			</p><p>Diese Nachricht <i>n</i> kann durch die Operation
				<i>n</i><sup>r</i></sup> nur mit Kenntnis des privaten
				Schlüssels wieder entschlüsselt werden.
			</p>

			<h2>Nachrichten</h2>

			<p>In den folgenden zwei Textboxen können Sie untersuchen, wie das
				Ver- und Entschlüsseln funktioniert.
			</p>
			<form class="form-horizontal">
				<div class="form-group">
					<label class="col-sm-2 control-label" for="public-key">Private Message</label>
					<div class="col-sm-10"><input class="form-control" id="private-message" value="7"></div>
				</div>
				<div class="row">
					<div id="direction">
						<svg viewbox="0 0 50 50" width="50" height="50">
							<polyline points="0,20 15,20 15,0 35,0 35,20 50,20 25,50"></polyline>
						</svg>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label" for="private-key">Public Message</label>
					<div class="col-sm-10"><input class="form-control" id="public-message"></div>
				</div>
			</form>
		</div>
		<script
			  src="https://code.jquery.com/jquery-3.2.1.min.js"
			  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
			  crossorigin="anonymous"
		></script>
		<script
			src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
			integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
			crossorigin="anonymous"
		></script>
		<script
			src="https://peterolson.github.com/BigInteger.js/BigInteger.min.js"
		></script>
		<script src="rsa.js"></script>
	</body>
</html>
